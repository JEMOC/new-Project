<html ng-app="routeModule">

<head>
  <link rel="stylesheet" href="./css/index.css">
  <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, user-scalable=no">
  <script src="./js/angular.min.js"></script>
  <script src="./js/angular-route.min.js"></script>
  <script type="text/javascript" src="./js/ajax.js"></script>
  <script src="./router/router.js"></script>
</head>

<body ng-controller="app">
  <div class="header">
    <div class="top">
      <div class="container">
        <div class="title">
          <!-- 标题 -->
          <h1 ng-bind="title">登陆</h1>
          <!-- 标题 -->
        </div>
      </div>
    </div>
    <div class="container">
      <div id="more" class="iconfont">&#xe625;</div>
    </div>
    <ul id="side" class="side-nav">
      <li class="user">
        <!-- user component -->
        <a id="sign" ng-click='registertitle()' href="#!/register">注册</a>
        <a id="login" ng-click='logintitle()' href="#!/login">登录</a>
        <!-- user component -->
      </li>
      <li class="search">
        <div class="wrapper">
          <input id="search">
          <i class="iconfont" id="searchbtn">&#xe60a;</i>
        </div>
      </li>
      <li class="chat box">
        <a href="javascript:;">聊天室</a>
      </li>
      <li class="tree box">
        <a href="javascript:;">假树</a>
      </li>

    </ul>
  </div>
  <div class="main">

      <div ng-view></div>
      <!-- main show -->

      <!-- todo something -->
      <!-- main show -->

    <div style="clear:both;"></div>
  </div>
  <div class="footer">
    <!-- footer -->
    <!-- footer -->
  </div>
  <script type="text/javascript">
    window.onload = function() {
      console.log('window onloaded');
      var sign = document.getElementById('sign');
      var login = document.getElementById('login');
      var search = document.getElementById('search');
      var side = document.getElementById('side');
      var more = document.getElementById('more');
      var searchbtn = document.getElementById('searchbtn');

    search.addEventListener('focus', function() {
      search.parentNode.classList.add('focus');
      document.removeEventListener('click', show);
    });

    search.addEventListener('blur', function() {
      search.parentNode.classList.remove('focus');
      document.addEventListener('click', show);
    });

    more.addEventListener('click', function() {
      side.style.transform = 'translateX(0)';
      document.addEventListener('click', show);
    });

    var show = function(event) {
      if (event.target != side && event.target != more && event.target != searchbtn) {
        console.log('click');
        if (document.body.clientWidth <= 768) {
          side.style.transform = 'translateX(-100%)';
        } else {
          side.style.transform = 'translateX(0)';
        }
      }
    }
  }
  </script>
</body>

</html>
